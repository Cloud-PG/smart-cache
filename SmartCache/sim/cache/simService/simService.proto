syntax = "proto3";

import "google/protobuf/empty.proto";

option java_multiple_files = true;
option java_package = "io.grpc.cache.sim.service";
option java_outer_classname = "CacheSimService";

package simservice;

service SimService {

  rpc SimServiceGet(SimCommonFile) returns (SimCacheStatus) {}
  rpc SimServiceClear(google.protobuf.Empty) returns (SimCacheStatus) {}
  rpc SimServiceInfo(google.protobuf.Empty) returns (SimCacheInfo) {}

}

message SimCommonFile {
  string filename = 1;
  float size = 2;
}

message SimCacheStatus {
  float hitRate = 1;
  float size = 2;
  float writtenData = 3;
  float capacity = 4;
}

message SimCacheInfo {
  map<string, float> cacheFiles = 1;
  map<string, float> fileWeights = 2;
}